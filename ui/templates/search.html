{% extends "base.html" %}
{% block content %}
<h1>Search Posts</h1>
<form action="{{ url_for('search') }}" method="get">
    <input type="text" name="keyword" placeholder="Search keyword" required>
    <br><br>
    <label for="sort_by">Sort By:</label>
    <select name="sort_by" id="sort_by">
        <option value="recency">Recency</option>
        <option value="likes">Likes</option>
    </select>
    <br><br>
    <label for="search_type">Search Type:</label>
    <select name="search_type" id="search_type">
        <option value="match">Match</option>
        <option value="phrase">Phrase</option>
        <option value="fuzzy">Fuzzy</option>
        <option value="wildcard">Wildcard</option>
        <option value="regexp">Regexp</option>
    </select>
    <br><br>
    <button type="submit">Search</button>
</form>

{% if posts %}
  <h2>Search Results</h2>
  {% for post in posts %}
    <div style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
      <p><strong>ID:</strong> {{ post.id }}</p>
      <p><strong>Post:</strong> {{ post.content }}</p>  <!-- âœ… Shows post text -->
      <p><small>Created at: {{ post.created_at }} | Likes: {{ post.like_count or 0 }}</small></p>
    </div>
  {% endfor %}
{% endif %}

{% endblock %}
